### 추상화를 통한 복잡성 극복

사람들은 본능적으로 이해하기 쉽고, 예측 가능한 수준으로 현실을 분해하고 단순화하는 전략을 따르며 이는 추상화로 해결할 수 있다.

추상화란, 현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 본질을 드러나게 하는 과정이다. 쉽게 말해 불필요한 부분을 무시하여 현실의 복잡성을 단순화하기 위한 수단이다.

추상화는 복잡성을 다루기 위해 두 차원을 통해 이루어진다.

1. 구체적인 사물들 간의 **공통점은 취하고, 차이점은 버리**는 일반화를 통해 단순하게 만드는 것
2. 중요한 부분을 강조하기 위해 **불필요한 세부 사항**을 제거함으로써 단순하게 만드는 것

모든 경우에 추상화 목적은 복잡성을 이해하기 쉬운 수준으로 단순화하는 것이다.

<br>

### 객체지향과 추상화

#### 모두 트럼프일 뿐
이상한 나라의 앨리스에서 앨리스가 정원에 들어선 순간 '정원사, 병사, 신하, 왕자, 공주, 하객'등 트럼프 카드에 팔다리가 달린 객체들이 등장하고, 앨리스는 여기서 쫄지않고 "모두 트럼프일 뿐이야"라고 이야기 한다.

앨리스는 위 모든 객체를 트럼프 그룹으로 묶어 추상화했고, 이는 각 객체의 차이점을 의도적으로 무시하고 공통점만 강조한 것이다.

<br>

#### 개념
공통점을 기반으로 객체들을 묶기 위한 그릇을 **개념(Concept)**라고 한다.

개념이란, 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 뜻한다. 길에 돌아다니는 빠른 교통수단은 '자동차'라고 부르는 것처럼 이를 개념으로 적용하고, 위 동화에서 앨리스는 트럼프라는 개념으로 추상화했다.

개념을 이용하면 객체를 여러 그룹으로 **분류(Classification)**할 수 있다. 트럼프는 트럼프로, 트럼프가 아닌 하얀 토끼는 토끼로 개념에 적합한 객체가 각 그룹에 포함되도록 분류했다.

객체에 어떤 개념을 적용하는 것이 가능하여 개념 그룹의 일원이 될 때, 해당 객체를 그 개념의 **인스턴스(Instance)**라고 한다.

즉, 개념은 공통점을 기반으로 객체를 분류할 수 있는 일종의 체라고 볼 수 있다.

<br>

#### 개념의 세 가지 관점
개념은 특정한 객체가 어떤 그룹에 속할 것인지를 결정한다. 즉, 어떤 객체에 어떤 개념이 적용됐다고 할 때는 그 개념이 부가하는 의미를 만족시킴으로써 다른 객체와 함께 해당 개념의 일원이 됐다고 볼 수 있다.

객체의 분류 장치로서 개념을 이야기할 때는 아리 세 관점을 언급한다.
- `심볼(Symbol)`: 개념을 가리키는 간단한 이름이나 명칭
- `내연(Intension)`: 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인
- `외연(Extension)`: 개념에 속하는 모든 객체의 집합(set)

트럼프 예제에서 보면 위 세 가지를 다음과 같이 정의할 수 있다.
- `심볼`: 앨리스는 트럼프로 추상화했으니 여기서 트럼프는 개념의 심볼이 된다.
- `내연`: 개념의 의미로, 몸이 납작하고 팔다리가 트럼프에 붙어 있다는 트럼프에 대한 설명이 된다.
  - 개념을 객체에 적용할 수 있는지 여부를 판단하기 위한 조건이라는 점에 주목하면, 토끼는 트럼프의 내연을 만족시키지 못하므로 트럼프가 될 수 없다.
- `외연`: 개념에 속하는 객체로, 개념의 인스턴스들이 모여 이룬 집합을 가리키기에 정원사, 병사, 신하, 왕자, 공주.. 등이 속하게 된다.

근데 사실, 심볼 내연 외연보다 개념을 이용해서 객체를 분류할 수 있다는 사실이 더 중요함

<br>

#### 객체를 분류하기 위한 틀
분류는 객체지향의 가장 중요한 개념 중 하나로, 객체에 특정한 개념을 적용하는 작업이다. 어떤 객체를, 어떤 개념으로 분류하는지가 객체지향의 품질을 결정한다.

객체를 적절한 개념에 따라 잘 분류하지 못하면 유지보수가 어렵고 변화에 쉽게 대처하지 못한다. 반면, 분류를 잘하면 유지보수성이 좋은 애플리케이션이 될 수 있다.

##

### 타입
#### 타입은 개념이다
타입은 개념과 동일하다, 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미한다. 타입의 인스턴스는 타입을 구성하는 외연인 객체 집합의 일원이 된다.

<br>

#### 데이터 타입
컴퓨터 안에 있는 데이터를 목적에 따라 분류하면서 타입 시스템이 생겼고, 이 목적은 메모리 안의 데이터가 잘못 사용되지 않도록 제약사항을 부과하는 것이다.

이를 통해 타입의 중요한 사실 두 가지를 알 수 있다.
1. 타입은 데이터가 어떻게 사용되느냐에 관한 것
  - 숫자형 데이터 타입은 서로 사칙연산이 가능하고, 문자열은 서로 연결해 새로운 문자열을 만들 수 있다.
  - 어떤 데이터에 어떤 연산자를 적용할 수 있느냐가 그 데이터의 타입을 결정하는 점
2. 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저히 감춰진다.
  - 데이터 타입의 표현은 연산 작업을 수행하기에 가장 효과적은 형태가 선택되고, 개발자는 이 표현 방법을 몰라도 데이터 사용에 문제가 없다.
  - 데이터 타입에 적용할 수 있는 연산자만 알면 사용할 수 있기 때문이다.

<br>

#### 객체와 타입
데이터 타입과 객체지향 타입 사이에는 깊은 연관성이 있지만, 객체는 데이터가 아니다.

객체는 행동에 따라 상태를 변하게 할 수 있고, 상태는 행동의 결과로 부수효과를 쉽게 표현하기 위한 추상적인 **개념일 뿐**이다.

그래도 데이터 타입에 관해 언급한 두 가지 사실이 객체의 타입을 이야기할 때도 적용된다.

1. 어떤 객체들이 동일한 행동을 수행할 수 있다면, 그 객체들은 동일한 타입으로 분류될 수 있다.
2. 객체의 행동을 가장 효과적으로 수행할 수만 있으면 객체 내부 상태를 어떤 방식으로 표현하더라도 무방하다.

<br>

#### 행동이 우선이다.
위 말에 따르면 객체의 내부 표현 방식이 달라도, 객체들이 동일하게 행동한다면 객체들은 동일한 타입에 속한다고 볼 수 있다.

이 사실은 객체를 타입으로 분류할 때 사용해야 하는 기준을 명확하게 제시한다. 즉, 객체들이 동일한 데이터를 갖더라도 다른 행동을 한다면 그 객체들은 서로 다른 타입으로 분류해야 한다.

결론적으로 객체의 타입을 결정하는 것은 객체의 행동뿐, 객체가 어떤 데이터를 보유하는지는 안 중요함!

<br>

타입이 데이터가 아니라, 행동에 의해 결정된다는 사실은 객체지향 패러다임을 특징 짓는 중요한 몇 가지 원리와 원칙에 의미를 부여한다.

객체의 동일한 행동이란 동일한 책임을 의미하며, 동일한 책임이란 동일한 메세지 수신을 의미한다.

내부 표현 방식이 다르기에 동일한 메세지를 처리하는 방식은 다를 수 있지만, 동일한 타입에 속한 객체는 동일한 메세지를 수신하고 처리할 수 있다.

이것이 **다형성**에 의미를 부여한다. 다형성이란 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력을 의미한다.

<br>

또한 행동만 고려 대상인 사실은 외부에 데이터를 감춰야 한다는 것을 의미하여 외부에 행동만 노출해야 함을 의미하고 이는 **캡슐화**에 해당한다.

공용 인터페이스 뒤로 데이터를 캡슐화하라는 오래된 말은 행동에 따라 분류하기 위해 지켜야하는 기본적인 원칙이었던 것

책임을 먼저 결정하고 그 책임을 수행하는데 필요한 데이터를 결정한 후, 데이터를 캡슐화 해야한다. 그리고 이는 책임ㅡ주도 설계(RDD) 해당하여, 데이터ㅡ주도 설계(DDD)의 단점을 개선했다.

### 타입의 계층
#### 일반화/특수화 관계
앨리스에 나오는 트럼프 왕, 여왕, 신하들은 정확히 말하는 트럼프보다 더 많은 행동을 할 수 있다. 팔다리가 있고 걸어다니기 때문이다.

그래서 트럼프 인간이라고 해도 되는데, 트럼프 인간은 곧 트럼프이기도 하다. 계층이 나뉘어진 것

이러한 개념들의 관계를 일반화/특수화 관계라 한다.

![2025  7  30  15:18 Microsoft Lens](https://github.com/user-attachments/assets/ec875bdf-95b2-4c89-b74d-d26be18f0732)

<br>

#### 일반화/특수화 관계
트럼프는 트럼프 인간보다 더 일반적인 개념이다. 더 포괄적이라는 뜻이기에 트럼프는 트럼프 인간에 속하는 객체를 포함한다.

트럼프 인간을 트럼프처럼 특수하게 표현한 것을 특수화라고 한다. 일반적인 개념보다는 좁으며 일반화와 특수화는 동시에 일어난다.

이런 일반화/특수화 관계를 결정하는 것 또한 데이터가 아닌 행동이다. 특수한 행동을 하냐, 일반적인 행동을 하냐에 초점을 두어야 한다. 특수한 타입은 일반적 타입보다 더 많은 행동을 가진다.

<br>

#### 슈퍼타입과 서브타입
일반적인 타입을 슈퍼타입, 특수한 타입을 서브타입이라 한다.

이 둘 또한 마찬가지로 관계는 행동에 의해 결정된다는 것이다. 즉, **서브타입은 슈퍼타입의 행위와 호환되기 때문에 슈퍼타입을 대체할 수 있어야 한다.** (= 리스코프 치환 원칙)

![2025  7  30  15:25 Microsoft Lens](https://github.com/user-attachments/assets/d3b637bc-7314-4590-b168-0dd798f5057a)

서브타입은 슈퍼타입의 행위에 추가적으로 자신만의 특수한 행동을 추가하는 것이므로 자동 상속된다.

##

### 정적 모델
#### 타입의 목적
객체지향에서 타입을 사용하는 이유는 인간의 인지 능력으로는 시간에 따라 동적으로 변하는 객체의 복잡성을 극복하기 어렵기 때문이다.

앨리스는 시간에 따라 계속 변하는데, 키 라는 것은 정적 모델로 임의의 값만 가질 수 있다는 사실만 생각할 수 있게하기 때문에 단순하게 된다.

정리하면, 타입은 시간에 따라 동적으로 변화하는 앨리스 상태와 무관하게 **정적인 모습으로 다룰 수 있게 한다.**

#### 그래서 결국 타입은 추상화다

앨리스가 버섯을 먹든 음료를 먹든 키가 변할텐데, 키가 어떤 값을 가지는지는 중요하지 않다.

그렇기에 타입은 추상화인데, 타입을 이용하면 객체의 동적인 특성을 추상화할 수 있다. 특정 시점의 앨리스에 시간이나 상태 변화 요소를 제거하고, 정적인 앨리스만 묘사하는 것이 가능하기 때문이다.

<br>

#### 동적 모델과 정적 모델
우리는 동적/정적 두 가지 모델을 동시에 고려했다.

동적 모델은 객체가 살아 움직이는 동안 어떻게 변하는지, 즉 특정 시점에 구체적으로 어떤 상태를 가지느냐에 따라 다른데, 이를 **객체의 스냅샷**이라 한다. UML에서 스냅샷은 **객체 다이어그램**이라고도 불린다.

정적 모델은 객체가 가질 수 있는 모든 상태와 행동을 시간에 독립적으로 표현하는 것으로, **타입 모델**이라 하여 정적인 모습만 표현한다.

<br>

#### 클래스
객체지향 프로그래밍에서 정적인 모델은 클래스를 이용해 구현한다.

