## 객체지향과 인지 능력 41p~

인간은 본능적으로 세상을 독립적이고 식별 가능한 객체의 집합으로 바라본다.

객체지향은 세상을 자율적이고 독립적인 객체들로 분해할 수 있는 인간의 기본적인 인지 능력에 기반을 두고 있다. → 객체지향을 직관적이고 이해하기 쉬운 패러다임이라고 말하는 이유

인간이 직접적으로 지각 할 수 있는 것은 물리적 경계를 지닌 구체적 사물이지만, 개념적으로 경계지을 수 있는 추상적인 사물도 객체로 인식할 수 있다. 세상을 더 작은 객체로 분해하는 것은 복잡성을 극복하기 위한 것이다.

→ 객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적인 또는 개념적인 경계를 지닌 어떤 것이다.

객체지향 패러다임은 소프트웨어의 세계 역시 인간이 인지할 수 있는 다양한 소프트웨어 객체들이 모여 이루어진다는 믿음에서 출발한다. 하지만, 딱 거기까지의 유사성일 뿐 현실 세계의 모방은 아니다. 현실 세계를 기반으로 새로운 세계를 창조하는 것이다.

→ 전등이 스스로 전원을 켜고 끈다거나, 주문 객체가 스스로 금액 계산을 하고, 자동차가 스스로 시동을 걸고, 통장이 스스로 금액을 인출 등등…

## 객체, 그리고 이상한 나라 42p~

### 이상한 나라의 앨리스

대충 앨리스 줄거리라 생략

### 앨리스 객체

앨리스는 정원으로 가는 길을 가로막고 있는 작은 문을 통과하기 위해 자신의 키를 줄이거나 늘렸다. 앨리스는 문을 통과하기에 적당한 상태로 자신의 키를 계속해서 변화시켰다. 

→ 문을 통과하기에 적당한 상태 == 문을 통과하기에 적절한 키

키는 시간의 흐름에 따라 계속 변화한다. 하지만 이유 없이가 아닌, 앨리스의 행동에 따라 앨리스의 상태가 변한다.

앨리스의 상태를 결정하는 것은 행동이지만 행동의 결과를 결정하는 것은 상태다.

→ 어떤 행동(케이크를 먹거나 부채질 하기 등)을 하기 전의 앨리스의 키가 얼마였느냐에 따라 행동을 한 후 앨리스의 키가 결정됨

→ 행동의 결과는 상태에 의존적 (문을 통과하는 것도 마찬가지)

문을 통과한다는 행동의 결과는 앨리스의 위치라는 상태로 설명할 수 있다.

어떤 행동의 성공 여부는 이전에 어떤 행동들이 발생했는지에 영향을 받는다.

→ 문을 통과하기 위해서는 키를 줄이기 위해 음료나 케이크를 먹어야 함

→ 행동 간의 순서가 중요하다!

행동에 의해 상태가 변경되더라도 앨리스가 앨리스라는 사실은 변하지 않는다.

→ 앨리스는 상태 변경과 무관하게 유일한 존재로 식별 가능

- 특징 요약
    - 앨리스는 상태를 가지며 상태는 변경 가능하다.
    - 앨리스의 상태를 변경시키는 것은 앨리스의 행동이다.
        - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
        - 행동의 순서가 결과에 영향을 미친다.
    - 앨리스는 어떤 상태에 있더라도 유일하게 식별 가능하다.

## 객체, 그리고 소프트웨어 나라 46p~

하나의 개별적인 실체를 식별 가능한 물리적인 또는 개념적인 사물은 어떤 것이라도 객체가 될 수 있다.

→ 개수를 셀 수 있고, 다른 사물과 구분할 수 있고, 생성 시점을 알 수 있고, 독립적인 하나의 단위로 인식할 수 있는 모든 사물은 객체다.

- 이 책에서의 객체의 정의
    
    객체란 식별 가능한 객체 또는 사물
    
    객체는 구체적인 사물일 수도 있고, 추상적인 개념일 수도 있음
    
    객체는 구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태를 가짐
    
    소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드를 통해 구현
    

### 상태

- 왜 상태가 필요한가?
    
    비행기 탑승 여부는 과거에 항공권을 발권하는 행동이 발생했는지 여부에 따라 달라지는 것이다. 자판기에 충분한 금액을 투입하기 전에는 원하는 음료를 선택할 수 없다. 등등..
    
    → 어떤 행동의 결과는 과거에 어떤 행동들이 일어났었느냐에 의존한다.
    
    행동의 결과를 예상하기 위해서는 과거에 했던 모든 행동을 기억해야 하기 때문에, 행동의 결과를 설명하는 것이 어렵다.
    
    → 상태라는 개념을 통해 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측 가능
    
    → 현재를 기반으로 객체의 행동 방식을 이해할 수 있게 됨. 세상의 복잡성을 완화하고 인지 과부하를 줄일 수 있는 개념
    
- 상태와 프로퍼티
    
    앨리스, 음료, 케이크, 부채, 버섯 → 객체
    
    앨리스의 ‘키’와 ‘위치’, 음료와 케이크의 ‘양’, 문이 열려있는지 ‘여부’ → 객체 X
    
    → 숫자, 문자열, 양, 속도, 시간, 날짜, 참/거짓 같은 단순한 값들은 객체가 아니며, 그 자체로 독립적인 의미를 가지기보다는 다른 객체의 특성을 표현하는 데 사용된다.
    
    객체를 사용해 다른 객체의 상태을 표현해야 할 때가 있다.
    
    → 앨리스가 현재 음료를 들고 있는 상태인지를 표현하기 위해 
    
    → 객체의 상태는 단순한 값과 객체의 조합으로 표현할 수 있다.
    
    객체의 상태를 구성하는 모든 특징을 통틀어 객체의 **프로퍼티**라고 한다.
    
    → 앨리스의 키, 위치, 음료
    
    일반적으로 프로퍼티는 변경되지 않고 고정되기 때문에 ‘정적’이지만, **프로퍼티 값**은 시간의 흐름에 따라 변경되기 때문에 ‘동적’이다.
    
    객체와 객체 사이의 의미 있는 연결을 **링크**라고 한다. 객체와 객체 사이에는 링크가 존재해야만 메시지를 주고받을 수 있다. 링크는 객체가 다른 객체를 참조할 수 있다는 것을 의미하며, 이것은 일반적으로 한 객체가 다른 객체의 식별자를 알고 있는 것으로 표현된다.
    
    객체를 구성하는 단순한 값은 **속성**이라고 한다.
    
    → 객체의 프로퍼티는 속성과 링크라는 두 가지 종류의 조합으로 표현(엄밀힌 속성과 연관관계)
    
    → 연관관계: 정적, 링크: 연관관계의 인스턴스
    
    객체는 자율성을 가지고 있기 때문에 직접 다른 객체의 상태를 변경하거나 조회할 수 없다.
    
    → 객체지향의 기본 사상은 상태와 행동을 하나의 단위로 묶는 것
    

### 행동

- 상태와 행동
    
    객체의 행동에 의해 객체의 상태가 변경된다는 것은 행동이 **부수효과**를 초래한다는 것을 의미한다.
    
    - 상태와 행동의 관계
        - 객체의 행동은 상태에 영향을 받는다
        - 객체의 행동은 상태를 변경시킨다
    - 행동을 보는 관점
        - 상호작용이 현재의 사태에 어떤 방식으로 의존하는가
        - 상호작용이 어떻게 현재의 상태를 변경시키는가
- 협력과 행동
    
    객체는 자신에게 주어진 책임을 완수하기 위해 다른 객체를 이용하고 다른 객체에게 서비스를 제공한다.
    
    객체가 다른 객체와 협력하는 유일한 방법은 다른 객체에게 요청을 보내고, 요청을 수신한 객체는 적절한 방법에 따라 행동하며 요청을 처리한다.
    
    → 객체의 행동은 객체가 협력에 참여할 수 있는 유일한 방법이다.
    
    객체가 어떤 행동을 하도록 만드는 것은 객체가 외부로부터 수신한 메시지다.
    
    객체는 협력에 참여하는 과정에서 다른 객체의 상태 변경을 유발할 수도 있다.
    
    - 객체의 행동으로 인해 발생하는 결과
        - 객체 자신의 상태 변경
        - 행동 내에서 협력하는 다른 객체에 대한 메시지 전송
    - 행동의 정의
        
        행동이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동
        
        행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있음
        
        객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 함
        
- 상태 캡슐화
    
    현실 세계와 달리 객체지향에서 모든 객체는 자신의 상태를 스스로 관리하는 자율적인 존재이다.
    
    메시지 송신자는 메시지 수신자의 상태 변경에 대해서는 전혀 알지 못한다.
    
    → 캡슐화
    
    → 객체는 상태를 외부에 노출하지 않으며, 행동만을 노출한다. 외부에서 접근할 수 있는 유일한 방법 역시 행동이다.
    
    상태를 잘 정의된 행동 집합 뒤로 캡슐화하는 것은 객체의 자율성을 높이고 협력을 단순하고 유연하게 만든다. → 상태 캡슐화의 이유
    

### 식별자

객체란 식별 가능한 경계를 가진 모든 사물을 의미한다.

객체가 식별 가능하다는 것은 객체를 서로 구별할 수 있는 특정한 프로퍼티가 객체 안에 존재한다는 것을 의미한다.

→ 이 프로퍼티를 **식별자**라고 한다.

모든 객체는 식별자를 가지며, 단순한 값은 식별자를 가지지 않는다.

**값**은 변하지 않는 양을 모델링한다. 값의 상태는 변하지 않기 때문에 불변 상태를 가진다고 말한다.

값이 같으면 동일하다고 판단하여 구별하려 하지 않는다.

상태를 이용해 두 값이 같은지 판단할 수 있는 성질을 **동등성**이라고 한다.

값의 상태는 불변하기 때문에 한번 동등하면 언제라도 동등한 상태를 유지한다.

→ 식별자가 필요하지 않음

객체는 시간에 따라 변경되는 상태를 포함하며, 행동을 통해 상태를 변경한다.

→ 가변 상태를 가진다.

객체의 상태는 다르더라도 식별자가 같다면 두 객체를 같은 객체로 판단할 수 있다.

→ **동일성**

값과 객체는 프로그래밍 언어에서 모두 클래스로 표현되어 혼란의 여지가 있음

→ 객체: 참조 객체, 엔티티 라는 표현 사용

→ 값: 값 객체 라는 표현 사용

- 객체의 특성
    - 객체는 상태를 가지며 상태는 변경 가능하다.
    - 객체의 상태를 변경시키는 것은 앨리스의 행동이다.
        - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
        - 행동의 순서가 결과에 영향을 미친다.
    - 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

## 기계로서의 객체 60p~

객체의 상태를 조회하는 작업: 쿼리

객체의 상태를 변경하는 작업: 명령

객체가 외부에 제공하는 행동의 대부분은 쿼리와 명령으로 구성

- 기계 은유
    
    버튼을 누르면 어떤 방식으로 동작할지는 기계 스스로 결정
    
    → 객체의 자율성
    
    기계에서 명령 버튼과 쿼리 버튼으로 구성된 인터페이스를 통해서면 객체에 접근할 수 있다.
    
    → 객체의 캡슐화를 강조
    
    기계가 동일한 상태여도 두 기계는 별개의 객체로 인식
    
    → 상태와 무관한 구별 가능한 식별자
    
    앞쪽 기계가 뒤쪽 기계에 버튼이 눌려지도록 동작
    
    → 링크를 통해 연결된 두 객체가 메시지 전송을 통해 협력
    

## 행동이 상태를 결정한다 64p~

- 상태를 먼저 결정하고 행동을 나중에 결정하는 방법이 설계에 나쁜 영향을 주는 이유
    1. 상태를 먼저 결정할 경우 캡슐화 저해
        
        내부로 캡슐화되지 못하고 공용 인터페이스에 그대로 노출될 가능성이 올라감
        
    2. 객체를 협력자가 아닌 고립된 섬으로 만듦
        
        상태를 먼저 고려할 경우 협력이라는 문맥에서 벗어난 채 설계하게 됨
        
    3. 객체의 재사용성 저하
        
        협력에 참여할 수 있는 능력이 부족하므로 재사용성이 저하됨
        

객체는 다른 객체와 협력하기 위해 존재하며, 객체의 행동은 객체가 협력에 참여하는 유일한 방법

→ 객체가 적합한지를 판단하는 것은 상태가 아니라 행동이다.

협력 안에서 객체의 행동 → 협력에 참여하면서 완수해야 하는 책임

→ 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야 함

→ 책임-주도 설계(RDD)

“행동이 상태를 결정한다.”

## 은유와 객체 66p~

### 두 번째 도시전설

객체지향이란 현실 세계의 모방이다. 라는 도시 전설

소프트웨어 안에 구상된 상품 객체는 실세계의 상품과는 전혀 다름

→ 가격 계산과 같은 행동을 스스로 함

→ 실세계의 상품을 단순화하거나 추상화한 것이 아니라 특성이 전혀 다른 것임을 의미

### 의인화

현실에서는 수동적인 존재가 소프트웨어 객체로 구현될 때는 능동적으로 변한다.

→ 부분적인 특징을 모방하는 것이 아니라 추가적인 능력을 보유하게 됨

→ 현실의 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징: **의인화**

### 은유

객체지향의 세계와 현실 세계 사이에는 모방이나 추상화 수준이 아닌 다른 관점에서의 유서성이 있다.

→ 현실 세계와 객체지향 세계 사이의 관계는 **은유**로 좀 더 정확히 설명할 수 있다.

프로그램 내의 객체는 현실 속의 객체에 대한 은유다.

→ 현실 속의 전화기는 스스로 전화를 걸 수 없지만, 현실 전화기의 개념을 이용해 그 객체가 전화를 걸 수 잇다는 사실을 쉽게 이해하고 기억할 수 있게 됨

은유는 **표현적 차이** 또는 **의미적 차이**라는 논점과 관련성이 깊다.

→ 실제 객체의 이름을 소프트웨어 객체의 이름으로 사용하면 표현적 차이를 줄여 이해하기 쉽고 유지보수가 용이한 소프트웨어를 만들 수 있음

### 이상한 나라를 창조하라

이상한 나라의 앨리스에 나오는 캐릭터들은 현실 모습과는 거리가 있다. 

→ 하지만 트럼프 카드가 쉽게 뒤집힐 것이고 채셔 고양이가 야옹 소리를 내며 울고 토끼가 빠르게 달릴 수 있으리라는 것을 예상할 수 있음

→ 은유를 통해 이상한 나라의 객체를 묘사하고 있기 때문

객체지향 설계자로서 우리의 목적은 현실을 모방하는 것이 아니다. 단지 이상한 나라를 창조하기만 하면 된다.
